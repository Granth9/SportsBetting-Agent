# NFL Betting Agent Council Configuration

# API Configuration
anthropic:
  model: "claude-3-5-sonnet-20241022"
  max_tokens: 4096
  temperature: 0.7

# Data Configuration
data:
  raw_path: "data/raw"
  processed_path: "data/processed"
  cache_enabled: true
  
# Model Configuration
models:
  storage_path: "models"
  retrain_threshold: 0.7  # Retrain if accuracy drops below this
  
  # Individual model configs (optimized for 88+ features)
  neural_net:
    hidden_layers: [512, 256, 128, 64, 32]  # Deeper network for complex patterns
    dropout: 0.35  # Balanced dropout
    learning_rate: 0.0003  # Lower learning rate for fine-tuning
    epochs: 200  # More epochs with early stopping
    early_stopping_patience: 20
    batch_size: 32
    
  gradient_boosting:
    n_estimators: 400  # More trees for better learning
    max_depth: 8  # Deeper for feature interactions
    learning_rate: 0.025  # Lower learning rate, more trees
    subsample: 0.85  # Row subsampling
    colsample_bytree: 0.85  # Column subsampling
    
  random_forest:
    n_estimators: 400  # More trees for stability
    max_depth: 15  # Deeper trees for feature interactions
    min_samples_split: 2  # Allow more splits
    min_samples_leaf: 1
    max_features: 'sqrt'  # Feature subsampling
    
  statistical:
    model_type: "logistic"
    regularization: 0.05  # Less regularization with more features
    
  lightgbm:
    n_estimators: 500  # More trees
    max_depth: 9  # Deeper for interactions
    learning_rate: 0.02  # Lower LR, more trees
    num_leaves: 127  # More leaves for complex patterns
    feature_fraction: 0.75  # Feature subsampling
    bagging_fraction: 0.75  # Data subsampling
    min_data_in_leaf: 20  # Prevent overfitting
    
  svm:
    C: 2.0  # Higher C for more complex boundaries
    kernel: "rbf"
    gamma: "scale"
    
  ensemble:
    voting_strategy: "selective_75"  # 75%+ accuracy strategy
    confidence_threshold: 0.70  # Minimum confidence required
    min_spread: 5.0  # Only bet on games with spread >= 5 points
    weights: {}  # Empty dict means equal weights
    enabled: true  # Enable voting ensemble
  
  stacking:
    enabled: true  # Enable stacking meta-learner
    meta_learner_type: "logistic"  # 'logistic' or 'lightgbm'
    n_folds: 5  # Number of folds for out-of-fold predictions
  
  catboost:
    n_estimators: 200
    max_depth: 7
    learning_rate: 0.05

# Debate Configuration
debate:
  rounds: 4
  max_agents: 6
  temperature: 0.7
  initial_statement_max_tokens: 500
  rebuttal_max_tokens: 400
  final_statement_max_tokens: 300
  
  # Agent personalities
  agents:
    neural_analyst:
      personality: "aggressive and pattern-focused"
      style: "I rely on deep learning to find hidden patterns others miss"
      
    gradient_strategist:
      personality: "methodical and feature-driven"
      style: "I analyze feature importance and data-driven correlations"
      
    forest_evaluator:
      personality: "cautious and ensemble-minded"
      style: "I provide robust predictions with uncertainty quantification"
      
    statistical_conservative:
      personality: "traditional and risk-averse"
      style: "I stick to proven statistical relationships and historical trends"
      
    lightgbm_optimizer:
      personality: "efficient and data-driven"
      style: "I use advanced gradient boosting to find optimal patterns quickly"
      
    svm_strategist:
      personality: "precise and boundary-focused"
      style: "I excel at finding decision boundaries and separating winning from losing scenarios"

# Evaluation Configuration
evaluation:
  backtest_years: 3
  validation_split: 0.2
  test_split: 0.1
  metrics:
    - accuracy
    - precision
    - recall
    - roi
    - sharpe_ratio

# Betting Configuration
betting:
  types:
    - game_outcome
    - spread
    - total
    - player_props
  
  confidence_threshold: 0.65  # Minimum confidence to recommend a bet
  kelly_criterion_fraction: 0.25  # Conservative Kelly for bet sizing

# Logging
logging:
  level: "INFO"
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  debate_logs_path: "logs/debates"
  performance_logs_path: "logs/performance"

